{% extends 'base.html' %}

{% block title %} Criar conta {% endblock %}

{% block content %}
<body class="d-flex justify-content-center align-items-center vh-100"> 

  <button id="themeToggle" class="btn btn-secondary position-fixed top-0 end-0 m-3">
    Alternar Tema
  </button>

  <div class="card shadow login-card p-4">
    <h3 class="text-center mb-4">Login</h3>

    <form method="post">
        {% csrf_token %}
        <div class="mb-3">
          <label class="form-label">E-mail</label>
          <input type="email" class="form-control" placeholder="email@exemplo.com" name="email" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Username</label>
          <input type="username" class="form-control" name="username" required>
        </div>
        
      <div class="mb-3">
        <label class="form-label">Senha</label>
        <input type="password" class="form-control" placeholder="••••••••" name="password" aria-describedby="passwordHelpBlock" required>
        <div id="passwordHelpBlock" class="form-text">
            Sua senha deve ter no minimo 8 digitos, uma letra maiuscula e minuscula e um digito
        </div>
    </div>
      <div class="mb-3">
        <label class="form-label">Confirmar senha</label>
        <input type="password" class="form-control" placeholder="••••••••" name="password_confirm" required>
      </div>

      <button class="btn btn-primary w-100" type="submit">Criar conta</button>
    </form>
    <div class="text-center mt-3">
      <a href="{% url 'login' %}">Voltar</a>
    </div>
    
  </div>



    <script>
    const html = document.documentElement;
    const toggleBtn = document.getElementById("themeToggle");
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
        html.setAttribute("data-bs-theme", savedTheme);
    }

    toggleBtn.addEventListener("click", () => {
        let current = html.getAttribute("data-bs-theme");
        let next = current === "dark" ? "light" : "dark";

        html.setAttribute("data-bs-theme", next);

        // Salva o tema escolhido
        localStorage.setItem("theme", next);
    });
  </script>
</body>
{% endblock %}