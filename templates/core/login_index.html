{% extends 'base.html' %}

{% block title %} Login {% endblock %}

{% block content %}
<style>
    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .login-card {
      width: 100%;
      max-width: 380px;
    }
</style>
<body class="d-flex justify-content-center align-items-center vh-100"> 

<button id="themeToggle" class="btn btn-secondary position-fixed top-0 end-0 m-3">
  Alternar Tema
</button>

<div class="card shadow login-card p-4">
  <h3 class="text-center mb-4">Login</h3>

  <form method="post">
    {% csrf_token %}
    <div class="mb-3">
      <label class="form-label">E-mail ou username</label>
      <input type="email" class="form-control" name="user" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Senha</label>
      <input type="password" class="form-control" placeholder="••••••••" name="password" required>
    </div>
      <button class="btn btn-primary w-100" type="submit">Entrar</button>
  </form>

  <div class="text-center mt-3">
      <a href="create_account/">
        <button class="btn btn-secondary w-100" type="submit">Criar conta</button>
      </a>
  </div>
  <div class="text-center mt-3">
      <a href="password_reset/">Esqueceu sua senha?</a>
  </div>
</div>


<script>
    const html = document.documentElement;
    const toggleBtn = document.getElementById("themeToggle");
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
        html.setAttribute("data-bs-theme", savedTheme);
    }

    toggleBtn.addEventListener("click", () => {
        let current = html.getAttribute("data-bs-theme");
        let next = current === "dark" ? "light" : "dark";

        html.setAttribute("data-bs-theme", next);

        // Salva o tema escolhido
        localStorage.setItem("theme", next);
    });
</script>
 </body>

{% endblock %}